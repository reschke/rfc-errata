[
  {
    "errata_id": "4384",
    "doc-id": "RFC7030",
    "errata_status_code": "Held for Document Update",
    "errata_type_code": "Technical",
    "section": "4.5.2",
    "orig_text": "CsrAttrs ::= SEQUENCE SIZE (0..MAX) OF AttrOrOID\r\n\r\nAttrOrOID ::= CHOICE (oid OBJECT IDENTIFIER, attribute Attribute }\r\n\r\nAttribute { ATTRIBUTE:IOSet } ::= SEQUENCE {\r\n     type   ATTRIBUTE.&id({IOSet}),\r\n     values SET SIZE(1..MAX) OF ATTRIBUTE.&Type({IOSet}{@type}) }",
    "correct_text": "AttrOrOID ::= CHOICE {\r\n      oid OBJECT IDENTIFIER, \r\n      attribute Attribute{YouNeedToDefineOrReferenceAnObjectSet}\r\n}",
    "notes": "1. The AttrOrOID CHOICE was started with a '(' versus a '{'.\r\n\r\n2. Attribute{} is a parameterized type and you are missing the parameter reference within the AttrOrOID CHOICE for \"attribute\".\r\n\r\n3. You need to define or reference the object set to be used in #2.\r\n\r\nHighly recommend you create an ASN.1 Module as part of this specification.  This will make it clear which specifications (and the versions there of) you are importing types from (i.e. Attribute{}) and the tagging that should be used (module level).  If you need to define a new object set for #3 then this new module would be the perfect home for it.",
    "submit_date": "2015-06-02",
    "submitter_name": "Pierce Leonberger",
    "verifier_id": "162",
    "verifier_name": "Roman Danyliw",
    "update_date": "2020-08-19 12:58:54"
  },
  {
    "errata_id": "5107",
    "doc-id": "RFC7030",
    "errata_status_code": "Held for Document Update",
    "errata_type_code": "Technical",
    "section": "3.2.1",
    "orig_text": null,
    "correct_text": "Add the following is as the last paragraph of Section 3.2.1:\r\n\r\n  [RFC2616] indicates \"HTTP does not use the\r\n  Content-Transfer-Encoding (CTE) field of RFC 2045”; nevertheless, this\r\n  document was published specifying the use of the\r\n  Content-Transfer-Encoding header with a value of ‘base64' in Sections\r\n  4.1.3, 4.3.1, 4.3.2, 4.4.2, 4.5.2, as well as in the examples in\r\n  Appendices A.1-A.4.   As HTTP is binary-clean transport, there is no\r\n  need to indicate this for HTTP-based protocols like EST.  EST server\r\n  implementations SHOULD omit the Content-Transfer-Encoding header if\r\n  they know a priori that EST clients do not rely this field.  EST\r\n  Clients SHOULD expect that the Content-Transfer-Encoding header will\r\n  be absent unless they have an a priori agreement with the EST server.\r\n  The mechanism to establish this client dependency is out-of-scope.",
    "notes": "EST, which is an HTTP-based protocol, erroneous used CTE.  This errata addresses this error.\r\n\r\nNote that the text was reviewed by a RAI AD as well as multiple EST implementors.",
    "submit_date": "2017-09-07",
    "submitter_name": "Sean Turner",
    "verifier_id": "162",
    "verifier_name": "Roman Danyliw",
    "update_date": "2020-08-19 12:59:42"
  },
  {
    "errata_id": "5108",
    "doc-id": "RFC7030",
    "errata_status_code": "Held for Document Update",
    "errata_type_code": "Technical",
    "section": "4.2.3, 4.4.2",
    "orig_text": "OLD from s.4.2.3:\r\n\r\n  If the content-type is not set, the response data MUST be a plaintext\r\n  human-readable error message containing explanatory information\r\n  describing why the request was rejected (for example, indicating that\r\n  CSR attributes are incomplete).\r\n\r\nOLD from s4.4.2:\r\n\r\n  If the content-type is not set, the response data MUST be a plaintext\r\n  human-readable error message.",
    "correct_text": "NEW for s4.2.3:\r\n\r\n  If the content-type is not set, the response data must be a plaintext\r\n  human-readable error message containing explanatory information\r\n  describing why the request was rejected (for example, indicating that\r\n  CSR attributes are incomplete).  Servers MAY use the \"text/plain”\r\n  content-type [RFC2046] for human-readable errors.\r\n\r\nNEW for s4.4.2:\r\n\r\n  If the content-type is not set, the response data must be a plaintext\r\n  human-readable error message. Servers MAY use the \"text/plain”\r\n  content-type [RFC2046] for human-readable errors.",
    "notes": "The current text is somewhat unclear as to what content-type needs to be used for the human-readable error.  There are many human-readable content-types, but \"text/plain\" seems to be the most sensible.\r\n\r\nNote that the MUST was reduced to a must because no content-type is specified.",
    "submit_date": "2017-09-07",
    "submitter_name": "Sean Turner",
    "verifier_id": "162",
    "verifier_name": "Roman Danyliw",
    "update_date": "2020-08-19 13:00:37"
  },
  {
    "errata_id": "5779",
    "doc-id": "RFC7030",
    "errata_status_code": "Reported",
    "errata_type_code": "Editorial",
    "section": "A.4",
    "orig_text": " Because the DecryptKeyIdentifier attribute is not included in this\r\n   request, the response does not include additional encryption beyond\r\n   the TLS session.  The EST server response is:\r\n\r\n   HTTP/1.1 200 OK\r\n   Status: 200 OK\r\n   Content-Type: multipart/mixed ; boundary=estServerExampleBoundary\r\n   Content-Length: 3219\r\n\r\n   This is the preamble.  It is to be ignored, though it\r\n   is a handy place for estServer to include an explanatory note,\r\n   including contact or support information.\r\n   --estServerExampleBoundary\r\n   Content-Type: application/pkcs8\r\n   Content-Transfer-Encoding: base64",
    "correct_text": " Because the DecryptKeyIdentifier attribute is not included in this\r\n   request, the response does not include additional encryption beyond\r\n   the TLS session.  The EST server response is:\r\n\r\n   HTTP/1.1 200 OK\r\n   Status: 200 OK\r\n   Content-Type: multipart/mixed; boundary=estServerExampleBoundary\r\n   Content-Length: 3219\r\n\r\n   This is the preamble.  It is to be ignored, though it\r\n   is a handy place for estServer to include an explanatory note,\r\n   including contact or support information.\r\n   --estServerExampleBoundary\r\n   Content-Type: application/pkcs8\r\n   Content-Transfer-Encoding: base64",
    "notes": "Content-Type: multipart/mixed ; boundary=estServerExampleBoundary\r\n\r\nThe ; has a space, believe it or not, we implemented it that way.\r\n\r\nContent-Type: multipart/mixed; boundary=estServerExampleBoundary",
    "submit_date": "2019-07-13",
    "submitter_name": "Simon Edänge",
    "verifier_id": "99",
    "verifier_name": null,
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "5904",
    "doc-id": "RFC7030",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": "4.1.3",
    "orig_text": "Content-Transfer-Encoding: base64",
    "correct_text": "Transfer-Encoding: base64",
    "notes": "Verifier Notes: Marked verified by the RFC Editor at the request of Roman Danyliw.\r\n--------------------\r\n\r\nContent-Transfer-Encoding is not a valid HTTP header. RFC 7030 is not compliant with RFC 2616.\r\n\r\n- \"MIME Content-Transfer-Encoding: base64\" => Base64 Basic with CRLFs\r\n- \"HTTP Transfer-Encoding: base64\" => Base64 Basic without CRLFs\r\n\r\nThis is traceable from RFC 7030 (EST) through RFC 2818 (TLS) to RFC 2616 (HTTP).\r\n\r\n- RFC 7030 (EST): EST specifies how to transfer messages securely via HTTP over TLS (HTTPS) [RFC2818]\r\n- RFC 2818 (TLS): HTTP [RFC2616] was originally used in the clear on the Internet.\r\n- RFC 2616 (HTTP): HTTP does not use the Content-Transfer-Encoding (CTE) field of RFC 2045.\r\n- RFC 2616 (HTTP): HTTP/1.1 introduces the Transfer-Encoding header field (section 14.41).\r\n\r\nRFC 7030 sections affected are:\r\n\r\n- All references to Content-Transfer-Encoding are not valid: Sections 4.1.3, 4.3.1, 4.3.2, 4.4.2, 4.5.2, A.1, A.2, A.3, and A.4.\r\n- All references to RFC 2045 are not valid: Sections 4.1.3, 4.3.1, 4.3.2, 4.4.2, 4.5.2, and 7.1.\r\n- All references to \"base64\" need to be updated or removed: Sections 3.5, 4.1.3, 4.3.1, 4.3.2, 4.4.2, 4.5.2, and 7.1.\r\n\r\nRFC 7030 fix options:\r\n\r\nOption #1: Change all references from Content-Transfer-Encoding to Transfer-Encoding. A caveat is that \"base64\" has a different meaning in HTTP (no CRLFs) vs MIME (includes CRLFs).\r\n\r\nOption #2: Remove all references to Content-Transfer-Encoding and base64. Responses would be transmitted as binary. This allows the response to be transported more efficiently without base64 size bloat, and it allows optional use of Content-Length header so the response can be parsed more efficiently knowing the length ahead of time.",
    "submit_date": "2019-11-12",
    "submitter_name": "Justin Cranford",
    "verifier_id": "2",
    "verifier_name": "Roman Danyliw",
    "update_date": "2020-11-13 12:52:03"
  },
  {
    "errata_id": "5926",
    "doc-id": "RFC7030",
    "errata_status_code": "Reported",
    "errata_type_code": "Technical",
    "section": "A.1 to A.4",
    "orig_text": "   HTTP/1.1 200 OK\r\n   Status: 200 OK\r\n   Content-Type: application/pkcs7-mime\r\n   Content-Transfer-Encoding: base64\r\n   Content-Length: 4246",
    "correct_text": "   HTTP/1.1 200 OK\r\n   Status: 200 OK\r\n   Content-Type: application/pkcs7-mime\r\n   Transfer-Encoding: base64",
    "notes": "EST examples in appendix A.1 through A.4 have incorrect \"Content-Length\". That header is mutually exclusive with \"Transfer-Encoding\" according to HTTP 1.1 RFC 2616. If a clients receives both headers, \"Transfer-Encoding\" header takes precedence and the erroneous \"Content-Length\" header must be ignored.\r\n\r\nHTTP 1.1 RFC 2616 Section 4.4 (https://tools.ietf.org/html/rfc2616#section-4.4)\r\n\r\n3.If a Content-Length header field (section 14.13) is present, its\r\n     decimal value in OCTETs represents both the entity-length and the\r\n     transfer-length. The Content-Length header field MUST NOT be sent\r\n     if these two lengths are different (i.e., if a Transfer-Encoding\r\n     header field is present). If a message is received with both a\r\n     Transfer-Encoding header field and a Content-Length header field,\r\n     the latter MUST be ignored.\r\n\r\n\r\nEST RFC 7030 is non-compliant with HTTP 1.1 RFC 2616.\r\n\r\nPlease remove erroneous \"Content-Length\" header from all affected EST response examples in Appendixes A.1 through to A.4. This is incorrect and misleading.\r\n\r\nPlease make this fix at same time the erroneous \"Content-Transfer-Encoding\" header is corrected to be \"Transfer-Encoding\", as reported in a different errata.",
    "submit_date": "2019-12-03",
    "submitter_name": "Justin Cranford",
    "verifier_id": "99",
    "verifier_name": null,
    "update_date": null
  }
]
