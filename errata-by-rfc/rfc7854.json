[
  {
    "errata_id": "4722",
    "doc-id": "RFC7854",
    "errata_status_code": "Verified",
    "errata_type_code": "Editorial",
    "section": "3.1 4.8 7",
    "orig_text": "Stats Reports",
    "correct_text": "Statistics Reports",
    "notes": "The message of type 1 is called \"Statistics Report\" in the IANA registry https://www.iana.org/assignments/bmp-parameters/bmp-parameters.xml#message-types (I used it as the reference) and in sections 4.1 and 10.1 but \"Stats Report\" in sections 3.1, 4.8 and 7.",
    "submit_date": "2016-06-28",
    "submitter_name": "Stéphane Bortzmeyer",
    "verifier_id": "135",
    "verifier_name": "Joel Jaeggli",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "4830",
    "doc-id": "RFC7854",
    "errata_status_code": "Held for Document Update",
    "errata_type_code": "Technical",
    "section": "4.9",
    "orig_text": "Peer Down Notification\r\n\r\n   This message is used to indicate that a peering session was\r\n   terminated.\r\n\r\n      0                   1                   2                   3\r\n      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\r\n     +-+-+-+-+-+-+-+-+\r\n     |    Reason     |\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n     |            Data (present if Reason = 1, 2 or 3)               |\r\n     ~                                                               ~\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+",
    "correct_text": "Peer Down Notification\r\n\r\n   This message is used to indicate that a peering session was\r\n   terminated. Following the common BMP header and per-peer header is \r\n   the following:\r\n\r\n      0                   1                   2                   3\r\n      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\r\n     +-+-+-+-+-+-+-+-+\r\n     |    Reason     |\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n     |            Data (present if Reason = 1, 2 or 3)               |\r\n     ~                                                               ~\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+",
    "notes": "What: \r\n\r\nFor Peer Down Notification: To the programmer implementing the RFC, it is not clear if the Peer Down message consists of per peer header",
    "submit_date": "2016-10-12",
    "submitter_name": "Suhas Anand",
    "verifier_id": "135",
    "verifier_name": "Joel Jaeggli",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "5736",
    "doc-id": "RFC7854",
    "errata_status_code": "Held for Document Update",
    "errata_type_code": "Editorial",
    "section": "4.2",
    "orig_text": "      0                   1                   2                   3\r\n      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n     |   Peer Type   |  Peer Flags   |\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n     |         Peer Distinguisher (present based on peer type)       |\r\n     |                                                               |\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n     |                 Peer Address (16 bytes)                       |\r\n     ~                                                               ~\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n     |                           Peer AS                             |\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n     |                         Peer BGP ID                           |\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n     |                    Timestamp (seconds)                        |\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n     |                  Timestamp (microseconds)                     |\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+",
    "correct_text": "      0                   1                   2                   3\r\n      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n     |   Peer Type   |  Peer Flags   |\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n     |         Peer Distinguisher (present based on peer type)       |\r\n     |                                                               |\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n     |                 Peer Address (16 bytes)                       |\r\n     ~                                                               ~\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n     |                           Peer AS                             |\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n     |                         Peer BGP ID                           |\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n     |                    Timestamp (seconds)                        |\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n     |                  Timestamp (microseconds)                     |\r\n     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+",
    "notes": "The OLD figure may be misinterpreted as if there are unused bits between the \"Peer Flags\" and \"Peer Distinguisher\".\r\nWK: This also makes is consistent with other diagrams in this RFC.",
    "submit_date": "2019-05-23",
    "submitter_name": "Mohamed Boucadair",
    "verifier_id": "155",
    "verifier_name": "Warren Kumari (Ops AD)",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "7133",
    "doc-id": "RFC7854",
    "errata_status_code": "Held for Document Update",
    "errata_type_code": "Technical",
    "section": "5",
    "orig_text": "   In BMP's normal operating mode, after the BMP session is up, Route\r\n   Monitoring messages are used to provide a snapshot of the Adj-RIB-In\r\n   of each monitored peer.  This is done by sending all routes stored in\r\n   the Adj-RIB-In of those peers using standard BGP Update messages,\r\n   encapsulated in Route Monitoring messages.  There is no requirement\r\n   on the ordering of messages in the peer dumps.  When the initial dump\r\n   is completed for a given peer, this MUST be indicated by sending an\r\n   End-of-RIB marker for that peer (as specified in Section 2 of\r\n   [RFC4724], plus the BMP encapsulation header).  See also Section 9.\r\n",
    "correct_text": "Regrettably, there is no straightforward correction. Please see the notes for details.",
    "notes": "BMP is specified in the indicated text as sending \"an End-of-RIB marker for that peer\". The problem is that End-of-RIB (EoR) markers aren't specified in RFC 4724 as being per-peer, but per address family (AF), thus it doesn't make sense to talk about sending a single EoR to indicate BMP completion, except in the special case where BMP is only transporting routes for a single address family. \r\n\r\nThis problem also occurs in Section 3.3:\r\n\r\n   encapsulated in Route Monitoring messages.  Once it has sent all the\r\n   routes for a given peer, it MUST send an End-of-RIB message for that\r\n   peer; when End-of-RIB has been sent for each monitored peer, the\r\n   initial table dump has completed.  (A monitoring station that only\r\n   wants to gather a table dump could close the connection once it has\r\n   gathered an End-of-RIB or Peer Down message corresponding to each\r\n   Peer Up message.)\r\n\r\nbut the underlying fault is in Section 5, so that's what I've referenced above.\r\n\r\nThere are various fixes that could be applied. Some of them include:\r\n\r\n1. Remove all references to EoR. Don't require that an EoR be sent in §5, don't talk about what to do with it in §3.3. I'm not very fond of this option, its only merit is that it's simple to specify the textual changes.\r\n\r\n2. Update §5 to note that an EoR has to be sent per AF, and update §3.3 similarly, including in the parenthetical comment noting that the station would have to gather an EoR per AF that's supported on the session.\r\n\r\n3. Introduce a new BMP message \"end of initial BMP convergence\" to provide the functionality. Probably this would be in addition to the fixes in #2, since it's still useful to know that a given AF dump has completed. But introduction of the new message would provide a simpler and probably more reliable way for the monitoring station to know that BMP-level synchronization had completed.\r\n\r\nIt seems to me that the best way to address this will be with either a new spec that updates RFC 7854, or an rfc7854bis. For this reason, I suggest this erratum should be verified as \"hold for document update\", since the solution requires more WG discussion and consensus than an erratum can provide.\r\n\r\nThis issue was first reported by Vincent Bernat in https://mailarchive.ietf.org/arch/msg/idr/FOEcdxtI03CdgDrn497NBFSpz-s/, and see also https://mailarchive.ietf.org/arch/msg/grow/o16w8s5Ba9J4MdIipbxIqDiZrCI/\r\n\r\n===Verifier notes\r\n\r\nSee also https://mailarchive.ietf.org/arch/msg/grow/7ZFA52R3KI9pgpAN302xLl9MBBA/",
    "submit_date": "2022-09-14",
    "submitter_name": "John Scudder",
    "verifier_id": "184",
    "verifier_name": "Mohamed Boucadair",
    "update_date": "2025-06-01 21:39:32"
  },
  {
    "errata_id": "7194",
    "doc-id": "RFC7854",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": "10.8",
    "orig_text": "   Information type values 0 through 32767 MUST be assigned using the\r\n   \"Standards Action\" policy, and values 32768 through 65530 using the\r\n   \"Specification Required\" policy, defined in [RFC5226].  Values 65531\r\n   through 65534 are Experimental, and values 0 and 65535 are Reserved.",
    "correct_text": "   Information type values 0 through 127 MUST be assigned using the\r\n   \"Standards Action\" policy, and values 128 through 250 using the\r\n   \"Specification Required\" policy, defined in [RFC5226].  Values 251\r\n   through 254 are Experimental, and values 0 and 255 are Reserved.",
    "notes": "In Section 4.9 Peer Down Notification. The \"Reason\" field is defined as one octet, while the IANA consideration section is defining values as 2-octets range. This errata suggests updating the IANA registry, instead of the size of the \"Reason\" field in the Peer Down Notification message to avoid breaking existing implementations that use one-octet reason.\r\n\r\n[WK]: See thread https://mailarchive.ietf.org/arch/msg/grow/s-qcQpAkFVK3beirNYqY4MYfbFw/ for tracking. IANA has confirmed that they can update registries from verified errata.",
    "submit_date": "2022-10-30",
    "submitter_name": "Ahmed Elhassany",
    "verifier_id": "155",
    "verifier_name": "Warren Kumari (Ops AD)",
    "update_date": "2022-11-03 04:17:40"
  },
  {
    "errata_id": "7703",
    "doc-id": "RFC7854",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": "4.2",
    "orig_text": "      *  The L flag, if set to 1, indicates that the message reflects\r\n         the post-policy Adj-RIB-In (i.e., its path attributes reflect\r\n         the application of inbound policy).  It is set to 0 if the\r\n         message reflects the pre-policy Adj-RIB-In.  Locally sourced\r\n         routes also carry an L flag of 1.  See Section 5 for further\r\n         detail.  This flag has no significance when used with route\r\n         mirroring messages (Section 4.7).",
    "correct_text": "      *  The L flag, if set to 1, indicates that the message reflects\r\n         the post-policy Adj-RIB-In (i.e., its path attributes reflect\r\n         the application of inbound policy).  It is set to 0 if the\r\n         message reflects the pre-policy Adj-RIB-In.  Locally sourced\r\n         routes also carry an L flag of 1.  See Section 5 for further\r\n         detail.  This flag has significance only when used with Route\r\n         Monitoring messages.",
    "notes": "The L flag is used to indicate whether the route monitoring update reflects Adj-RIB-In pre-policy or post-policy (RFC 7854), or Adj-RIB-Out pre-policy or post-policy (RFC 8671). It does not apply to any message other than the Route Monitoring message.\r\n",
    "submit_date": "2023-11-16",
    "submitter_name": "Dhananjay S. Patki",
    "verifier_id": "155",
    "verifier_name": "Warren Kumari (Ops AD)",
    "update_date": "2023-12-11 08:50:18"
  }
]
