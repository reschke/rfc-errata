[
  {
    "errata_id": "6441",
    "doc-id": "RFC8878",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": "Appendix A",
    "orig_text": "A.1.  Literals Length Code Table\r\n\r\n                +=======+========+================+======+\r\n                | State | Symbol | Number_Of_Bits | Base |\r\n                +=======+========+================+======+\r\n                |   0   |   0    |       0        |  0   |\r\n                +-------+--------+----------------+------+\r\n                |   0   |   0    |       4        |  0   |\r\n                +-------+--------+----------------+------+\r\n[...]\r\n\r\nA.2.  Match Length Code Table\r\n\r\n                +=======+========+================+======+\r\n                | State | Symbol | Number_Of_Bits | Base |\r\n                +=======+========+================+======+\r\n                |   0   |   0    |       0        |  0   |\r\n                +-------+--------+----------------+------+\r\n                |   0   |   0    |       6        |  0   |\r\n                +-------+--------+----------------+------+\r\n\r\n[...]\r\n\r\nA.3.  Offset Code Table\r\n\r\n                +=======+========+================+======+\r\n                | State | Symbol | Number_Of_Bits | Base |\r\n                +=======+========+================+======+\r\n                |   0   |   0    |       0        |  0   |\r\n                +-------+--------+----------------+------+\r\n                |   0   |   0    |       5        |  0   |\r\n                +-------+--------+----------------+------+",
    "correct_text": "A.1.  Literals Length Code Table\r\n\r\n                +=======+========+================+======+\r\n                | State | Symbol | Number_Of_Bits | Base |\r\n                +=======+========+================+======+\r\n                |   0   |   0    |       4        |  0   |\r\n                +-------+--------+----------------+------+\r\n[...]\r\n\r\nA.2.  Match Length Code Table\r\n\r\n                +=======+========+================+======+\r\n                | State | Symbol | Number_Of_Bits | Base |\r\n                +=======+========+================+======+\r\n                |   0   |   0    |       6        |  0   |\r\n                +-------+--------+----------------+------+\r\n\r\n[...]\r\n\r\nA.3.  Offset Code Table\r\n\r\n                +=======+========+================+======+\r\n                | State | Symbol | Number_Of_Bits | Base |\r\n                +=======+========+================+======+\r\n                |   0   |   0    |       5        |  0   |\r\n                +-------+--------+----------------+------+",
    "notes": "Each of the three tables in Appendix A contain two entries for state 0, the first of which in each case incorrectly reports the Number_Of_Bits as 0. The all-zero rows should be removed.",
    "submit_date": "2021-02-25",
    "submitter_name": "Felix Handte",
    "verifier_id": "130",
    "verifier_name": "Barry Leiba",
    "update_date": "2021-03-08 09:31:31"
  },
  {
    "errata_id": "6442",
    "doc-id": "RFC8878",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": "3.1.1.5",
    "orig_text": "   The following table shows the values of the Repeated_Offsets as a\r\n   series of sequences are applied to them:\r\n\r\n   +=======+==========+===========+===========+===========+============+\r\n   |offset_|literals_ | Repeated_ | Repeated_ | Repeated_ |Comment     |\r\n   | value |  length  |  Offset1  |  Offset2  |  Offset3  |            |\r\n   +=======+==========+===========+===========+===========+============+\r\n   |       |          |     1     |     4     |     8     |starting    |\r\n   |       |          |           |           |           |values      |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |   1114|    11    |    1111   |     1     |     4     |non-repeat  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      1|    22    |    1111   |     1     |     4     |repeat 1; no|\r\n   |       |          |           |           |           |change      |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |   2225|    22    |    2222   |    1111   |     1     |non-repeat  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |   1114|   111    |    1111   |    2222   |    1111   |non-repeat  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |   3336|    33    |    3333   |    1111   |    2222   |non-repeat  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      2|    22    |    1111   |    3333   |    2222   |repeat 2;   |\r\n   |       |          |           |           |           |swap 1 & 2  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      3|    33    |    2222   |    1111   |    3333   |repeat 3;   |\r\n   |       |          |           |           |           |rotate 3 to |\r\n   |       |          |           |           |           |1           |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      1|    0     |    2221   |    2222   |    1111   |insert      |\r\n   |       |          |           |           |           |resolved    |\r\n   |       |          |           |           |           |offset      |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      1|    0     |    2222   |    2221   |    3333   |repeat 2    |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n\r\n                         Table 18: Repeated_Offsets",
    "correct_text": "   The following table shows the values of the Repeated_Offsets as a\r\n   series of sequences are applied to them:\r\n\r\n   +=======+==========+===========+===========+===========+============+\r\n   |offset_|literals_ | Repeated_ | Repeated_ | Repeated_ |Comment     |\r\n   | value |  length  |  Offset1  |  Offset2  |  Offset3  |            |\r\n   +=======+==========+===========+===========+===========+============+\r\n   |       |          |     1     |     4     |     8     |starting    |\r\n   |       |          |           |           |           |values      |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |   1114|    11    |    1111   |     1     |     4     |non-repeat  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      1|    22    |    1111   |     1     |     4     |repeat 1; no|\r\n   |       |          |           |           |           |change      |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |   2225|    22    |    2222   |    1111   |     1     |non-repeat  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |   1114|   111    |    1111   |    2222   |    1111   |non-repeat  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |   3336|    33    |    3333   |    1111   |    2222   |non-repeat  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      2|    22    |    1111   |    3333   |    2222   |repeat 2;   |\r\n   |       |          |           |           |           |swap 1 & 2  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      3|    33    |    2222   |    1111   |    3333   |repeat 3;   |\r\n   |       |          |           |           |           |rotate 3 to |\r\n   |       |          |           |           |           |1           |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      3|    0     |    2221   |    2222   |    1111   |insert      |\r\n   |       |          |           |           |           |resolved    |\r\n   |       |          |           |           |           |offset      |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      1|    0     |    2222   |    2221   |    3333   |repeat 2    |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n\r\n                         Table 18: Repeated_Offsets",
    "notes": "The offset_value in the second-to-last line in the table should be 3, not 1. This line intends to demonstrate the property described earlier in the section that when the sequence's literals_length is 0, an offset_value of 3 resolves to Repeated_Offset1 - 1 and is inserted at the head of the Repeated_Offsets. This is the behavior that is reflected in the rest of the row, which an offset_value of 1 would not trigger (the resolved offset would be 2222, not 2221, and the Repeated_Offsets would remain unchanged, as demonstrated in the 3rd row of the table).\r\n\r\n(I wrote this table and it read 3 in the version I provided to the document authors--a typo was introduced somewhere.)",
    "submit_date": "2021-02-25",
    "submitter_name": "Felix Handte",
    "verifier_id": "130",
    "verifier_name": "Barry Leiba",
    "update_date": "2021-03-08 09:31:55"
  },
  {
    "errata_id": "7297",
    "doc-id": "RFC8878",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": "3.1.1.3.1.1",
    "orig_text": "Size_Format == 01:  4 streams.  Both Regenerated_Size and\r\n   Compressed_Size use 10 bits (values 0-1023).\r\n   Literals_Section_Header uses 3 bytes.\r\n\r\nSize_Format == 10:  4 streams.  Both Regenerated_Size and\r\n   Compressed_Size use 14 bits (values 0-16383).\r\n   Literals_Section_Header uses 4 bytes.\r\n\r\nSize_Format == 11:  4 streams.  Both Regenerated_Size and\r\n   Compressed_Size use 18 bits (values 0-262143).\r\n   Literals_Section_Header uses 5 bytes.",
    "correct_text": "Size_Format == 01:  4 streams.  Both Regenerated_Size and\r\n   Compressed_Size use 10 bits (values 6-1023).\r\n   Literals_Section_Header uses 3 bytes.\r\n\r\nSize_Format == 10:  4 streams.  Both Regenerated_Size and\r\n   Compressed_Size use 14 bits (values 6-16383).\r\n   Literals_Section_Header uses 4 bytes.\r\n\r\nSize_Format == 11:  4 streams.  Both Regenerated_Size and\r\n   Compressed_Size use 18 bits (values 6-262143).\r\n   Literals_Section_Header uses 5 bytes.",
    "notes": "The calculation for the size of the fourth stream, specified in section 3.1.1.3.1.6, will underflow if the total size of the literals in the block is less than 6 bytes. So the 4-stream mode cannot be used in blocks with fewer than 6 literals. (Nor should it be, since it is strictly less efficient for very small literal sections.)\r\n\r\nThe source for this errata is https://github.com/facebook/zstd/pull/3398.\r\n\r\n[Verifier note: Confirmed with zstd developers.]",
    "submit_date": "2023-01-03",
    "submitter_name": "Felix Handte",
    "verifier_id": "164",
    "verifier_name": "Murray Kucherawy",
    "update_date": "2024-08-22 10:58:54"
  },
  {
    "errata_id": "7567",
    "doc-id": "RFC8878",
    "errata_status_code": "Reported",
    "errata_type_code": "Technical",
    "section": "3.1.1.3.1",
    "orig_text": "3.1.1.3.1.  Literals_Section_Header",
    "correct_text": "3.1.1.3.1.  Literals_Section",
    "notes": "Section 3.1.1.3.1 describes the Literals_Section mentioned in and linked from Section 3.1.1.3 Compressed Blocks. However, the section is labeled as Literals_Section_Header resulting in two sections both labeled Literals_Section_Header (sections 3.1.1.3.1 and 3.1.1.3.1.1).",
    "submit_date": "2023-07-20",
    "submitter_name": "Jordan Tucker",
    "verifier_id": "99",
    "verifier_name": null,
    "update_date": null
  },
  {
    "errata_id": "8085",
    "doc-id": "RFC8878",
    "errata_status_code": "Reported",
    "errata_type_code": "Technical",
    "section": "3.1.1.5",
    "orig_text": "   +=======+==========+===========+===========+===========+============+\r\n   |offset_|literals_ | Repeated_ | Repeated_ | Repeated_ |Comment     |\r\n   | value |  length  |  Offset1  |  Offset2  |  Offset3  |            |\r\n   +=======+==========+===========+===========+===========+============+\r\n   |       |          |     1     |     4     |     8     |starting    |\r\n   |       |          |           |           |           |values      |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |   1114|    11    |    1111   |     1     |     4     |non-repeat  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      1|    22    |    1111   |     1     |     4     |repeat 1; no|\r\n   |       |          |           |           |           |change      |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |   2225|    22    |    2222   |    1111   |     1     |non-repeat  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |   1114|   111    |    1111   |    2222   |    1111   |non-repeat  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |   3336|    33    |    3333   |    1111   |    2222   |non-repeat  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      2|    22    |    1111   |    3333   |    2222   |repeat 2;   |\r\n   |       |          |           |           |           |swap 1 & 2  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      3|    33    |    2222   |    1111   |    3333   |repeat 3;   |\r\n   |       |          |           |           |           |rotate 3 to |\r\n   |       |          |           |           |           |1           |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      1|    0     |    2221   |    2222   |    1111   |insert      |\r\n   |       |          |           |           |           |resolved    |\r\n   |       |          |           |           |           |offset      |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      1|    0     |    2222   |    2221   |    3333   |repeat 2    |\r\n   +-------+----------+-----------+-----------+-----------+------------+",
    "correct_text": "   +=======+==========+===========+===========+===========+============+\r\n   |offset_|literals_ | Repeated_ | Repeated_ | Repeated_ |Comment     |\r\n   | value |  length  |  Offset1  |  Offset2  |  Offset3  |            |\r\n   +=======+==========+===========+===========+===========+============+\r\n   |       |          |     1     |     4     |     8     |starting    |\r\n   |       |          |           |           |           |values      |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |   1114|    11    |    1111   |     1     |     4     |non-repeat  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      1|    22    |    1111   |     1     |     4     |repeat 1; no|\r\n   |       |          |           |           |           |change      |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |   2225|    22    |    2222   |    1111   |     1     |non-repeat  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |   1114|   111    |    1111   |    2222   |    1111   |non-repeat  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |   3336|    33    |    3333   |    1111   |    2222   |non-repeat  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      2|    22    |    1111   |    3333   |    2222   |repeat 2;   |\r\n   |       |          |           |           |           |swap 1 & 2  |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      3|    33    |    2222   |    1111   |    3333   |repeat 3;   |\r\n   |       |          |           |           |           |rotate 3 to |\r\n   |       |          |           |           |           |1           |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      3|    0     |    2221   |    2222   |    1111   |insert      |\r\n   |       |          |           |           |           |resolved    |\r\n   |       |          |           |           |           |offset      |\r\n   +-------+----------+-----------+-----------+-----------+------------+\r\n   |      1|    0     |    2222   |    2221   |    1111   |repeat 2    |\r\n   +-------+----------+-----------+-----------+-----------+------------+",
    "notes": "According to the description in 3.1.1.5, an offset value 1 with literal length 0 shall use Repeated Offset 2. However, in the last row of the example table, this is not the case. Since the second-to-last row has no \"3333\" value, I believe that the fifth column in the last row should be \"1111\".",
    "submit_date": "2024-08-19",
    "submitter_name": "Nianqi Tang",
    "verifier_id": "99",
    "verifier_name": null,
    "update_date": null
  },
  {
    "errata_id": "8195",
    "doc-id": "RFC8878",
    "errata_status_code": "Reported",
    "errata_type_code": "Editorial",
    "section": "4.2.2",
    "orig_text": "For example, if the literal sequence \"0145\" was encoded using the\r\n   above prefix code, it would be encoded (in reverse order) as:\r\n\r\n                           +=========+==========+\r\n                           |  Symbol | Encoding |\r\n                           +=========+==========+\r\n                           |    5    |   0000   |\r\n                           +---------+----------+\r\n                           |    4    |   0001   |\r\n                           +---------+----------+\r\n                           |    1    |    01    |\r\n                           +---------+----------+\r\n                           |    0    |    1     |\r\n                           +---------+----------+\r\n                           | Padding |  00001   |\r\n                           +---------+----------+\r\n\r\n                             Table 26: Literal\r\n                              Sequence \"0145\"\r\n\r\n   This results in the following 2-byte bitstream:\r\n\r\n     00010000 00001101\r\n\r\n   Here is an alternative representation with the symbol codes separated\r\n   by underscores:\r\n\r\n     0001_0000 00001_1_01",
    "correct_text": "For example, if the literal sequence \"0145\" was encoded using the\r\n   above prefix code, it would be encoded (in reverse order) as:\r\n\r\n                           +=========+==========+\r\n                           |  Symbol | Encoding |\r\n                           +=========+==========+\r\n                           |    5    |   0001   |\r\n                           +---------+----------+\r\n                           |    4    |   0000   |\r\n                           +---------+----------+\r\n                           |    1    |    01    |\r\n                           +---------+----------+\r\n                           |    0    |    1     |\r\n                           +---------+----------+\r\n                           | Padding |  00001   |\r\n                           +---------+----------+\r\n\r\n                             Table 26: Literal\r\n                              Sequence \"0145\"\r\n\r\n   This results in the following 2-byte bitstream:\r\n\r\n     00000001 00001101\r\n\r\n   Here is an alternative representation with the symbol codes separated\r\n   by underscores:\r\n\r\n     0000_0001 00001_1_01",
    "notes": "Assuming that `using the above prefix code` refers to the codes in the `Table 25: Sorting by Weight`.",
    "submit_date": "2024-12-02",
    "submitter_name": "Maciej Dudek",
    "verifier_id": "99",
    "verifier_name": null,
    "update_date": null
  }
]
